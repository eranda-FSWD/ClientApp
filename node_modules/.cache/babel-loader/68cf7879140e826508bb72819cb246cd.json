{"ast":null,"code":"import _classCallCheck from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Button,Modal,Form,Icon}from\"semantic-ui-react\";var ProductModal=/*#__PURE__*/function(_Component){_inherits(ProductModal,_Component);var _super=_createSuper(ProductModal);function ProductModal(props){var _this;_classCallCheck(this,ProductModal);_this=_super.call(this,props);_this.deleteProduct=function(id){axios.delete(\"/Products/DeleteProduct/\".concat(id)).then(function(res){_this.props.fetchProducts();_this.props.toggleProductModal(false);}).catch(function(err){console.log(err);});};_this.addProduct=function(){axios.post(\"/Products/PostProduct\",{name:_this.state.Name,price:_this.state.Price}).then(function(res){_this.props.fetchProducts();_this.props.toggleProductModal(false);_this.setState({Name:\"\",Price:0});}).catch(function(err){console.log(err);});};_this.editProduct=function(id){var pId=id===undefined?_this.props.sale.id:id;axios.put(\"/Products/PutProduct/\".concat(id),{id:pId,name:_this.state.Name===\"\"?_this.props.product.name:_this.state.Name,price:_this.state.Price===0?_this.props.product.price:_this.state.Price}).then(function(res){// console.log(res.data);\n_this.props.fetchProducts();_this.props.toggleProductModal(false);_this.setState({Name:\"\",Price:0});}).catch(function(err){console.log(err);});};_this.state={Name:\"\",Price:0};return _this;}_createClass(ProductModal,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,open=_this$props.open,button=_this$props.button,product=_this$props.product,toggleProductModal=_this$props.toggleProductModal;if(button===\"Add\")return/*#__PURE__*/React.createElement(Modal,{centered:true,open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Create Product\"),/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Product Name\",onChange:function onChange(e){return _this2.setState({Name:e.target.value});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Price\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Product Price\",onChange:function onChange(e){return _this2.setState({Price:e.target.value});}})))),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleProductModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{disabled:this.state.Price===0||this.state.Name===\"\",color:\"green\",labelPosition:\"right\",icon:true,onClick:this.addProduct},/*#__PURE__*/React.createElement(Icon,{name:\"checkmark\"}),\"Create\")));else if(button===\"Edit\")return/*#__PURE__*/React.createElement(Modal,{centered:true,open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Edit Product\"),/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{defaultValue:product.name,onChange:function onChange(e){return _this2.setState({Name:e.target.value});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Price\"),/*#__PURE__*/React.createElement(\"input\",{defaultValue:product.price,onChange:function onChange(e){return _this2.setState({Price:e.target.value});}})))),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleProductModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{labelPosition:\"right\",color:\"green\",icon:true,onClick:function onClick(){return _this2.editProduct(product.id);}},/*#__PURE__*/React.createElement(Icon,{name:\"checkmark\"}),\"Edit\")));else return/*#__PURE__*/React.createElement(Modal,{open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Delete Product\"),/*#__PURE__*/React.createElement(Modal.Content,null,\"Are you sure?\"),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleProductModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{labelPosition:\"right\",icon:true,onClick:function onClick(){return _this2.deleteProduct(product.id);},positive:true},/*#__PURE__*/React.createElement(Icon,{name:\"times\"}),\"Delete\")));}}]);return ProductModal;}(Component);export default ProductModal;","map":{"version":3,"sources":["G:/Talent/Talent/Talent/ClientApp/src/components/Product/ProductModal.jsx"],"names":["React","Component","axios","Button","Modal","Form","Icon","ProductModal","props","deleteProduct","id","delete","then","res","fetchProducts","toggleProductModal","catch","err","console","log","addProduct","post","name","state","Name","price","Price","setState","editProduct","pId","undefined","sale","put","product","open","button","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button, Modal, Form, Icon } from \"semantic-ui-react\";\r\n\r\nclass ProductModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      Name: \"\",\r\n      Price: 0,\r\n    };\r\n  }\r\n\r\n  deleteProduct = (id) => {\r\n    axios\r\n      .delete(`/Products/DeleteProduct/${id}`)\r\n      .then((res) => {\r\n        this.props.fetchProducts();\r\n        this.props.toggleProductModal(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  addProduct = () => {\r\n    axios\r\n      .post(\"/Products/PostProduct\", {\r\n        name: this.state.Name,\r\n        price: this.state.Price,\r\n      })\r\n      .then((res) => {\r\n        this.props.fetchProducts();\r\n        this.props.toggleProductModal(false);\r\n        this.setState({ Name: \"\", Price: 0 });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  editProduct = (id) => {\r\n    const pId = id === undefined ? this.props.sale.id : id;\r\n    axios\r\n      .put(`/Products/PutProduct/${id}`, {\r\n        id: pId,\r\n        name:\r\n          this.state.Name === \"\" ? this.props.product.name : this.state.Name,\r\n        price:\r\n          this.state.Price === 0 ? this.props.product.price : this.state.Price,\r\n      })\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        this.props.fetchProducts();\r\n        this.props.toggleProductModal(false);\r\n        this.setState({ Name: \"\", Price: 0 });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { open, button, product, toggleProductModal } = this.props;\r\n\r\n    if (button === \"Add\")\r\n      return (\r\n        <Modal centered={true} open={open}>\r\n          <Modal.Header>Create Product</Modal.Header>\r\n          <Modal.Content>\r\n            <Form>\r\n              <Form.Field>\r\n                <label>Name</label>\r\n                <input\r\n                  placeholder=\"Product Name\"\r\n                  onChange={(e) => this.setState({ Name: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>Price</label>\r\n                <input\r\n                  placeholder=\"Product Price\"\r\n                  onChange={(e) => this.setState({ Price: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n            </Form>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleProductModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              disabled={this.state.Price === 0 || this.state.Name === \"\"}\r\n              color=\"green\"\r\n              labelPosition=\"right\"\r\n              icon\r\n              onClick={this.addProduct}\r\n            >\r\n              <Icon name=\"checkmark\" />\r\n              Create\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n    else if (button === \"Edit\")\r\n      return (\r\n        <Modal centered={true} open={open}>\r\n          <Modal.Header>Edit Product</Modal.Header>\r\n          <Modal.Content>\r\n            <Form>\r\n              <Form.Field>\r\n                <label>Name</label>\r\n                <input\r\n                  defaultValue={product.name}\r\n                  onChange={(e) => this.setState({ Name: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>Price</label>\r\n                <input\r\n                  defaultValue={product.price}\r\n                  onChange={(e) => this.setState({ Price: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n            </Form>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleProductModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              labelPosition=\"right\"\r\n              color=\"green\"\r\n              icon\r\n              onClick={() => this.editProduct(product.id)}\r\n            >\r\n              <Icon name=\"checkmark\" />\r\n              Edit\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n    else\r\n      return (\r\n        <Modal open={open}>\r\n          <Modal.Header>Delete Product</Modal.Header>\r\n          <Modal.Content>Are you sure?</Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleProductModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              labelPosition=\"right\"\r\n              icon\r\n              onClick={() => this.deleteProduct(product.id)}\r\n              positive\r\n            >\r\n              <Icon name=\"times\" />\r\n              Delete\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n  }\r\n}\r\n\r\nexport default ProductModal;\r\n"]},"metadata":{},"sourceType":"module"}