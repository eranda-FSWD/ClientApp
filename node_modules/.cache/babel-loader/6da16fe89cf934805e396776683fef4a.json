{"ast":null,"code":"import _classCallCheck from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Button,Modal,Form,Icon}from\"semantic-ui-react\";var CustomerModal=/*#__PURE__*/function(_Component){_inherits(CustomerModal,_Component);var _super=_createSuper(CustomerModal);function CustomerModal(props){var _this;_classCallCheck(this,CustomerModal);_this=_super.call(this,props);_this.deleteCustomer=function(id){axios.delete(\"/Customers/DeleteCustomer/\".concat(id)).then(function(res){_this.props.fetchCustomers();_this.props.toggleCustomerModal(false);}).catch(function(err){console.log(err);});};_this.addCustomer=function(){axios.post(\"/Customers/PostCustomer\",{name:_this.state.Name,address:_this.state.Address}).then(function(res){_this.props.fetchCustomers();_this.props.toggleCustomerModal(false);_this.setState({Address:\"\",Name:\"\"});}).catch(function(err){console.log(err);});};_this.editCustomer=function(id){var cId=id===undefined?_this.props.sale.id:id;axios.put(\"/Customers/PutCustomer/\".concat(id),{id:cId,name:_this.state.Name===\"\"?_this.props.customer.name:_this.state.Name,address:_this.state.Address===\"\"?_this.props.customer.address:_this.state.Address}).then(function(res){_this.props.fetchCustomers();_this.props.toggleCustomerModal(false);_this.setState({Address:\"\",Name:\"\"});}).catch(function(err){console.log(err);});};_this.state={Name:\"\",Address:\"\"};return _this;}_createClass(CustomerModal,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,open=_this$props.open,button=_this$props.button,customer=_this$props.customer,toggleCustomerModal=_this$props.toggleCustomerModal;if(button===\"Add\")return/*#__PURE__*/React.createElement(Modal,{centered:true,open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Create Customer\"),/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Customer Name\",onChange:function onChange(e){return _this2.setState({Name:e.target.value});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Address\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Customer Address\",onChange:function onChange(e){return _this2.setState({Address:e.target.value});}})))),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleCustomerModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{disabled:this.state.Address===\"\"||this.state.Name===\"\",color:\"green\",labelPosition:\"right\",icon:true,onClick:this.addCustomer},/*#__PURE__*/React.createElement(Icon,{name:\"checkmark\"}),\"Create\")));else if(button===\"Edit\")return/*#__PURE__*/React.createElement(Modal,{centered:true,open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Edit Customer\"),/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{defaultValue:customer.name,onChange:function onChange(e){return _this2.setState({Name:e.target.value});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Address\"),/*#__PURE__*/React.createElement(\"input\",{defaultValue:customer.address,onChange:function onChange(e){return _this2.setState({Address:e.target.value});}})))),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleCustomerModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{labelPosition:\"right\",color:\"green\",icon:true,onClick:function onClick(){return _this2.editCustomer(customer.id);}},/*#__PURE__*/React.createElement(Icon,{name:\"checkmark\"}),\"Edit\")));else return/*#__PURE__*/React.createElement(Modal,{open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Delete Customer\"),/*#__PURE__*/React.createElement(Modal.Content,null,\"Are you sure?\"),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleCustomerModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{labelPosition:\"right\",icon:true,onClick:function onClick(){return _this2.deleteCustomer(customer.id);},positive:true},/*#__PURE__*/React.createElement(Icon,{name:\"times\"}),\"Delete\")));}}]);return CustomerModal;}(Component);export default CustomerModal;","map":{"version":3,"sources":["G:/Talent/Talent/Talent/ClientApp/src/components/Customer/CustomerModal.jsx"],"names":["React","Component","axios","Button","Modal","Form","Icon","CustomerModal","props","deleteCustomer","id","delete","then","res","fetchCustomers","toggleCustomerModal","catch","err","console","log","addCustomer","post","name","state","Name","address","Address","setState","editCustomer","cId","undefined","sale","put","customer","open","button","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button, Modal, Form, Icon } from \"semantic-ui-react\";\r\n\r\nclass CustomerModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      Name: \"\",\r\n      Address: \"\",\r\n    };\r\n  }\r\n\r\n  deleteCustomer = (id) => {\r\n    axios\r\n      .delete(`/Customers/DeleteCustomer/${id}`)\r\n      .then((res) => {\r\n        this.props.fetchCustomers();\r\n        this.props.toggleCustomerModal(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  addCustomer = () => {\r\n    axios\r\n      .post(\"/Customers/PostCustomer\", {\r\n        name: this.state.Name,\r\n        address: this.state.Address,\r\n      })\r\n      .then((res) => {\r\n        this.props.fetchCustomers();\r\n        this.props.toggleCustomerModal(false);\r\n        this.setState({ Address: \"\", Name: \"\" });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  editCustomer = (id) => {\r\n    const cId = id === undefined ? this.props.sale.id : id;\r\n    axios\r\n      .put(`/Customers/PutCustomer/${id}`, {\r\n        id: cId,\r\n        name:\r\n          this.state.Name === \"\" ? this.props.customer.name : this.state.Name,\r\n        address:\r\n          this.state.Address === \"\"\r\n            ? this.props.customer.address\r\n            : this.state.Address,\r\n      })\r\n      .then((res) => {\r\n        this.props.fetchCustomers();\r\n        this.props.toggleCustomerModal(false);\r\n        this.setState({ Address: \"\", Name: \"\" });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { open, button, customer, toggleCustomerModal } = this.props;\r\n\r\n    if (button === \"Add\")\r\n      return (\r\n        <Modal centered={true} open={open}>\r\n          <Modal.Header>Create Customer</Modal.Header>\r\n          <Modal.Content>\r\n            <Form>\r\n              <Form.Field>\r\n                <label>Name</label>\r\n                <input\r\n                  placeholder=\"Customer Name\"\r\n                  onChange={(e) => this.setState({ Name: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>Address</label>\r\n                <input\r\n                  placeholder=\"Customer Address\"\r\n                  onChange={(e) => this.setState({ Address: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n            </Form>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleCustomerModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              disabled={this.state.Address === \"\" || this.state.Name === \"\"}\r\n              color=\"green\"\r\n              labelPosition=\"right\"\r\n              icon\r\n              onClick={this.addCustomer}\r\n            >\r\n              <Icon name=\"checkmark\" />\r\n              Create\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n    else if (button === \"Edit\")\r\n      return (\r\n        <Modal centered={true} open={open}>\r\n          <Modal.Header>Edit Customer</Modal.Header>\r\n          <Modal.Content>\r\n            <Form>\r\n              <Form.Field>\r\n                <label>Name</label>\r\n                <input\r\n                  defaultValue={customer.name}\r\n                  onChange={(e) => this.setState({ Name: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>Address</label>\r\n                <input\r\n                  defaultValue={customer.address}\r\n                  onChange={(e) => this.setState({ Address: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n            </Form>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleCustomerModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              labelPosition=\"right\"\r\n              color=\"green\"\r\n              icon\r\n              onClick={() => this.editCustomer(customer.id)}\r\n            >\r\n              <Icon name=\"checkmark\" />\r\n              Edit\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n    else\r\n      return (\r\n        <Modal open={open}>\r\n          <Modal.Header>Delete Customer</Modal.Header>\r\n          <Modal.Content>Are you sure?</Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleCustomerModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              labelPosition=\"right\"\r\n              icon\r\n              onClick={() => this.deleteCustomer(customer.id)}\r\n              positive\r\n            >\r\n              <Icon name=\"times\" />\r\n              Delete\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n  }\r\n}\r\n\r\nexport default CustomerModal;\r\n"]},"metadata":{},"sourceType":"module"}