{"ast":null,"code":"import _classCallCheck from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import _ from\"lodash\";import{Button,Container,Table,Dropdown,Icon}from\"semantic-ui-react\";import StoreModal from\"./StoreModal\";import Pagination from\"../Common/Pagination\";var Store=/*#__PURE__*/function(_Component){_inherits(Store,_Component);var _super=_createSuper(Store);function Store(props){var _this;_classCallCheck(this,Store);_this=_super.call(this,props);_this.fetchStores=function(){axios.get(\"/Stores/GetStore\").then(function(_ref){var data=_ref.data;_this.setState({stores:data,totalRows:data});_this.fetchRecordsPerPage(_this.state.curruntPage,_this.state.rowsPerPage);}).catch(function(err){console.log(err);});};_this.toggleStoreModal=function(value,button,store){_this.setState({open:value,button:button,store:store});};_this.handleDropdown=function(event,data){_this.setState({curruntPage:1,rowsPerPage:data.value});_this.fetchStores();};_this.fetchRecordsPerPage=function(curruntPage,rowsPerPage){var indexOfLastRow=curruntPage*rowsPerPage;var indexOfFirstRow=indexOfLastRow-rowsPerPage;var storesPerPage=_this.state.stores.slice(indexOfFirstRow,indexOfLastRow);_this.setState({stores:storesPerPage});};_this.paginate=function(pageNumber){_this.setState({curruntPage:pageNumber});_this.fetchStores();};_this.handleSort=function(clickedColumn){var _this$state=_this.state,column=_this$state.column,stores=_this$state.stores,direction=_this$state.direction;if(column!==clickedColumn){_this.setState({column:clickedColumn,stores:_.sortBy(stores,[clickedColumn]),direction:\"ascending\"});return;}_this.setState({stores:stores.reverse(),direction:direction===\"ascending\"?\"descending\":\"ascending\"});};_this.state={stores:[],store:{},open:false,button:\"\",rowsPerPage:10,totalRows:0,curruntPage:1,column:null,direction:null,// value: 0,\noptions:[{key:10,text:\"10\",value:10},{key:20,text:\"20\",value:20},{key:30,text:\"30\",value:30}],selected:10};return _this;}_createClass(Store,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchStores();}},{key:\"render\",value:// End Column Sorting\nfunction render(){var _this2=this;var _this$state2=this.state,open=_this$state2.open,button=_this$state2.button,store=_this$state2.store,column=_this$state2.column,direction=_this$state2.direction;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(StoreModal,{open:open,button:button,store:store,fetchStores:this.fetchStores,toggleStoreModal:this.toggleStoreModal}),/*#__PURE__*/React.createElement(Button,{color:\"blue\",onClick:function onClick(){return _this2.toggleStoreModal(true,\"Add\",null);}},\"New Store\"),/*#__PURE__*/React.createElement(Table,{sortable:true,celled:true,striped:true,fixed:true},/*#__PURE__*/React.createElement(Table.Header,null,/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.HeaderCell,{sorted:column===\"name\"?direction:null,onClick:function onClick(){return _this2.handleSort(\"name\");}},\"Name\"),/*#__PURE__*/React.createElement(Table.HeaderCell,{sorted:column===\"address\"?direction:null,onClick:function onClick(){return _this2.handleSort(\"address\");}},\"Address\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Action\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Action\"))),/*#__PURE__*/React.createElement(Table.Body,null,this.state.stores.map(function(store){return/*#__PURE__*/React.createElement(Table.Row,{key:store.id},/*#__PURE__*/React.createElement(Table.Cell,null,store.name),/*#__PURE__*/React.createElement(Table.Cell,null,store.address),/*#__PURE__*/React.createElement(Table.Cell,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.toggleStoreModal(true,\"Edit\",store);},color:\"yellow\",icon:true,labelPosition:\"left\"},/*#__PURE__*/React.createElement(Icon,{name:\"edit\"}),\"EDIT\")),/*#__PURE__*/React.createElement(Table.Cell,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.toggleStoreModal(true,\"\",store);},color:\"red\",icon:true,labelPosition:\"left\"},/*#__PURE__*/React.createElement(Icon,{name:\"trash\"}),\"DELETE\")));}))),/*#__PURE__*/React.createElement(Pagination,{totalRows:this.state.totalRows.length,rowsPerPage:this.state.rowsPerPage,paginate:this.paginate}),/*#__PURE__*/React.createElement(Dropdown,{compact:true,selection:true,defaultValue:this.state.selected,options:this.state.options,onChange:this.handleDropdown}));}}]);return Store;}(Component);export default Store;","map":{"version":3,"sources":["G:/Talent/Talent/Talent/ClientApp/src/components/Store/Store.jsx"],"names":["React","Component","axios","_","Button","Container","Table","Dropdown","Icon","StoreModal","Pagination","Store","props","fetchStores","get","then","data","setState","stores","totalRows","fetchRecordsPerPage","state","curruntPage","rowsPerPage","catch","err","console","log","toggleStoreModal","value","button","store","open","handleDropdown","event","indexOfLastRow","indexOfFirstRow","storesPerPage","slice","paginate","pageNumber","handleSort","clickedColumn","column","direction","sortBy","reverse","options","key","text","selected","map","id","name","address","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport _ from \"lodash\";\r\nimport { Button, Container, Table, Dropdown, Icon } from \"semantic-ui-react\";\r\nimport StoreModal from \"./StoreModal\";\r\nimport Pagination from \"../Common/Pagination\";\r\n\r\nclass Store extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stores: [],\r\n      store: {},\r\n      open: false,\r\n      button: \"\",\r\n      rowsPerPage: 10,\r\n      totalRows: 0,\r\n      curruntPage: 1,\r\n      column: null,\r\n      direction: null,\r\n      // value: 0,\r\n\r\n      options: [\r\n        { key: 10, text: \"10\", value: 10 },\r\n        { key: 20, text: \"20\", value: 20 },\r\n        { key: 30, text: \"30\", value: 30 },\r\n      ],\r\n      selected: 10,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchStores();\r\n  }\r\n\r\n  fetchStores = () => {\r\n    axios\r\n      .get(\"/Stores/GetStore\")\r\n      .then(({ data }) => {\r\n        this.setState({\r\n          stores: data,\r\n          totalRows: data,\r\n        });\r\n        this.fetchRecordsPerPage(\r\n          this.state.curruntPage,\r\n          this.state.rowsPerPage\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  toggleStoreModal = (value, button, store) => {\r\n    this.setState({\r\n      open: value,\r\n      button: button,\r\n      store: store,\r\n    });\r\n  };\r\n\r\n  handleDropdown = (event, data) => {\r\n    this.setState({\r\n      curruntPage: 1,\r\n      rowsPerPage: data.value,\r\n    });\r\n    this.fetchStores();\r\n  };\r\n\r\n  // Records per the page\r\n  fetchRecordsPerPage = (curruntPage, rowsPerPage) => {\r\n    const indexOfLastRow = curruntPage * rowsPerPage;\r\n    const indexOfFirstRow = indexOfLastRow - rowsPerPage;\r\n    const storesPerPage = this.state.stores.slice(\r\n      indexOfFirstRow,\r\n      indexOfLastRow\r\n    );\r\n    this.setState({ stores: storesPerPage });\r\n  };\r\n\r\n  paginate = (pageNumber) => {\r\n    this.setState({ curruntPage: pageNumber });\r\n    this.fetchStores();\r\n  };\r\n\r\n  // Column Sorting\r\n  handleSort = (clickedColumn) => {\r\n    const { column, stores, direction } = this.state;\r\n\r\n    if (column !== clickedColumn) {\r\n      this.setState({\r\n        column: clickedColumn,\r\n        stores: _.sortBy(stores, [clickedColumn]),\r\n        direction: \"ascending\",\r\n      });\r\n\r\n      return;\r\n    }\r\n    this.setState({\r\n      stores: stores.reverse(),\r\n      direction: direction === \"ascending\" ? \"descending\" : \"ascending\",\r\n    });\r\n  };\r\n  // End Column Sorting\r\n\r\n  render() {\r\n    const { open, button, store, column, direction } = this.state;\r\n\r\n    return (\r\n      <Container>\r\n        <StoreModal\r\n          open={open}\r\n          button={button}\r\n          store={store}\r\n          fetchStores={this.fetchStores}\r\n          toggleStoreModal={this.toggleStoreModal}\r\n        />\r\n        <Button\r\n          color=\"blue\"\r\n          onClick={() => this.toggleStoreModal(true, \"Add\", null)}\r\n        >\r\n          New Store\r\n        </Button>\r\n        {/* Table */}\r\n        <Table sortable celled striped fixed>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell\r\n                sorted={column === \"name\" ? direction : null}\r\n                onClick={() => this.handleSort(\"name\")}\r\n              >\r\n                Name\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell\r\n                sorted={column === \"address\" ? direction : null}\r\n                onClick={() => this.handleSort(\"address\")}\r\n              >\r\n                Address\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell>Action</Table.HeaderCell>\r\n              <Table.HeaderCell>Action</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header>\r\n\r\n          <Table.Body>\r\n            {this.state.stores.map((store) => (\r\n              <Table.Row key={store.id}>\r\n                <Table.Cell>{store.name}</Table.Cell>\r\n                <Table.Cell>{store.address}</Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    onClick={() => this.toggleStoreModal(true, \"Edit\", store)}\r\n                    color=\"yellow\"\r\n                    icon\r\n                    labelPosition=\"left\"\r\n                  >\r\n                    <Icon name=\"edit\" />\r\n                    EDIT\r\n                  </Button>\r\n                </Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    onClick={() => this.toggleStoreModal(true, \"\", store)}\r\n                    color=\"red\"\r\n                    icon\r\n                    labelPosition=\"left\"\r\n                  >\r\n                    <Icon name=\"trash\" />\r\n                    DELETE\r\n                  </Button>\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n          </Table.Body>\r\n        </Table>\r\n        {/* Pagination */}\r\n        <Pagination\r\n          totalRows={this.state.totalRows.length}\r\n          rowsPerPage={this.state.rowsPerPage}\r\n          paginate={this.paginate}\r\n        />\r\n        {/* drpdown selection */}\r\n        <Dropdown\r\n          compact\r\n          selection\r\n          defaultValue={this.state.selected}\r\n          options={this.state.options}\r\n          onChange={this.handleDropdown}\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Store;\r\n"]},"metadata":{},"sourceType":"module"}