{"ast":null,"code":"import _classCallCheck from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import _ from\"lodash\";import{Button,Container,Table,Dropdown,Icon}from\"semantic-ui-react\";import ProductModal from\"./ProductModal\";import Pagination from\"../Common/Pagination\";var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);var _super=_createSuper(Product);function Product(props){var _this;_classCallCheck(this,Product);_this=_super.call(this,props);_this.fetchProducts=function(){axios.get(\"/Products/GetProduct\").then(function(_ref){var data=_ref.data;// console.log(data);\n_this.setState({products:data,totalRows:data});_this.fetchRecordsPerPage(_this.state.curruntPage,_this.state.rowsPerPage);}).catch(function(err){console.log(err);});};_this.toggleProductModal=function(value,button,product){_this.setState({open:value,button:button,product:product});};_this.handleDropdown=function(event,data){_this.setState({curruntPage:1,rowsPerPage:data.value});_this.fetchProducts();};_this.fetchRecordsPerPage=function(curruntPage,rowsPerPage){var indexOfLastRow=curruntPage*rowsPerPage;var indexOfFirstRow=indexOfLastRow-rowsPerPage;var productsPerPage=_this.state.products.slice(indexOfFirstRow,indexOfLastRow);_this.setState({products:productsPerPage});};_this.paginate=function(pageNumber){_this.setState({curruntPage:pageNumber});_this.fetchProducts();};_this.handleSort=function(clickedColumn){var _this$state=_this.state,column=_this$state.column,products=_this$state.products,direction=_this$state.direction;if(column!==clickedColumn){_this.setState({column:clickedColumn,products:_.sortBy(products,[clickedColumn]),direction:\"ascending\"});return;}_this.setState({products:products.reverse(),direction:direction===\"ascending\"?\"descending\":\"ascending\"});};_this.state={products:[],producr:{},open:false,button:\"\",rowsPerPage:10,totalRows:0,curruntPage:1,column:null,direction:null,// value: 0,\noptions:[{key:10,text:\"10\",value:10},{key:20,text:\"20\",value:20},{key:30,text:\"30\",value:30}],selected:10};return _this;}_createClass(Product,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchProducts();}},{key:\"render\",value:// End Column Sorting\nfunction render(){var _this2=this;var _this$state2=this.state,open=_this$state2.open,button=_this$state2.button,product=_this$state2.product,column=_this$state2.column,direction=_this$state2.direction;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(ProductModal,{open:open,button:button,product:product,fetchProducts:this.fetchProducts,toggleProductModal:this.toggleProductModal}),/*#__PURE__*/React.createElement(Button,{color:\"blue\",onClick:function onClick(){return _this2.toggleProductModal(true,\"Add\",null);}},\"New Product\"),/*#__PURE__*/React.createElement(Table,{sortable:true,celled:true,striped:true,fixed:true},/*#__PURE__*/React.createElement(Table.Header,null,/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.HeaderCell,{sorted:column===\"name\"?direction:null,onClick:function onClick(){return _this2.handleSort(\"name\");}},\"Name\"),/*#__PURE__*/React.createElement(Table.HeaderCell,{sorted:column===\"price\"?direction:null,onClick:function onClick(){return _this2.handleSort(\"price\");}},\"Price\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Action\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Action\"))),/*#__PURE__*/React.createElement(Table.Body,null,this.state.products.map(function(product){return/*#__PURE__*/React.createElement(Table.Row,{key:product.id},/*#__PURE__*/React.createElement(Table.Cell,null,product.name),/*#__PURE__*/React.createElement(Table.Cell,null,\"$\",product.price),/*#__PURE__*/React.createElement(Table.Cell,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.toggleProductModal(true,\"Edit\",product);},color:\"yellow\",icon:true,labelPosition:\"left\"},/*#__PURE__*/React.createElement(Icon,{name:\"edit\"}),\"EDIT\")),/*#__PURE__*/React.createElement(Table.Cell,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.toggleProductModal(true,\"\",product);},color:\"red\",icon:true,labelPosition:\"left\"},/*#__PURE__*/React.createElement(Icon,{name:\"trash\"}),\"DELETE\")));}))),/*#__PURE__*/React.createElement(Pagination,{totalRows:this.state.totalRows.length,rowsPerPage:this.state.rowsPerPage,paginate:this.paginate}),/*#__PURE__*/React.createElement(Dropdown,{compact:true,selection:true,defaultValue:this.state.selected,options:this.state.options,onChange:this.handleDropdown}));}}]);return Product;}(Component);export default Product;","map":{"version":3,"sources":["G:/Talent/Talent/Talent/ClientApp/src/components/Product/Product.jsx"],"names":["React","Component","axios","_","Button","Container","Table","Dropdown","Icon","ProductModal","Pagination","Product","props","fetchProducts","get","then","data","setState","products","totalRows","fetchRecordsPerPage","state","curruntPage","rowsPerPage","catch","err","console","log","toggleProductModal","value","button","product","open","handleDropdown","event","indexOfLastRow","indexOfFirstRow","productsPerPage","slice","paginate","pageNumber","handleSort","clickedColumn","column","direction","sortBy","reverse","producr","options","key","text","selected","map","id","name","price","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport _ from \"lodash\";\r\nimport { Button, Container, Table, Dropdown, Icon } from \"semantic-ui-react\";\r\nimport ProductModal from \"./ProductModal\";\r\nimport Pagination from \"../Common/Pagination\";\r\n\r\nclass Product extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: [],\r\n      producr: {},\r\n      open: false,\r\n      button: \"\",\r\n      rowsPerPage: 10,\r\n      totalRows: 0,\r\n      curruntPage: 1,\r\n      column: null,\r\n      direction: null,\r\n      // value: 0,\r\n\r\n      options: [\r\n        { key: 10, text: \"10\", value: 10 },\r\n        { key: 20, text: \"20\", value: 20 },\r\n        { key: 30, text: \"30\", value: 30 },\r\n      ],\r\n      selected: 10,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchProducts();\r\n  }\r\n\r\n  fetchProducts = () => {\r\n    axios\r\n      .get(\"/Products/GetProduct\")\r\n      .then(({ data }) => {\r\n        // console.log(data);\r\n        this.setState({\r\n          products: data,\r\n          totalRows: data,\r\n        });\r\n        this.fetchRecordsPerPage(\r\n          this.state.curruntPage,\r\n          this.state.rowsPerPage\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  toggleProductModal = (value, button, product) => {\r\n    this.setState({\r\n      open: value,\r\n      button: button,\r\n      product: product,\r\n    });\r\n  };\r\n\r\n  handleDropdown = (event, data) => {\r\n    this.setState({\r\n      curruntPage: 1,\r\n      rowsPerPage: data.value,\r\n    });\r\n    this.fetchProducts();\r\n  };\r\n\r\n  // Records per the page\r\n  fetchRecordsPerPage = (curruntPage, rowsPerPage) => {\r\n    const indexOfLastRow = curruntPage * rowsPerPage;\r\n    const indexOfFirstRow = indexOfLastRow - rowsPerPage;\r\n    const productsPerPage = this.state.products.slice(\r\n      indexOfFirstRow,\r\n      indexOfLastRow\r\n    );\r\n    this.setState({ products: productsPerPage });\r\n  };\r\n\r\n  paginate = (pageNumber) => {\r\n    this.setState({ curruntPage: pageNumber });\r\n    this.fetchProducts();\r\n  };\r\n\r\n  // Column Sorting\r\n  handleSort = (clickedColumn) => {\r\n    const { column, products, direction } = this.state;\r\n\r\n    if (column !== clickedColumn) {\r\n      this.setState({\r\n        column: clickedColumn,\r\n        products: _.sortBy(products, [clickedColumn]),\r\n        direction: \"ascending\",\r\n      });\r\n\r\n      return;\r\n    }\r\n    this.setState({\r\n      products: products.reverse(),\r\n      direction: direction === \"ascending\" ? \"descending\" : \"ascending\",\r\n    });\r\n  };\r\n  // End Column Sorting\r\n\r\n  render() {\r\n    const { open, button, product, column, direction } = this.state;\r\n\r\n    return (\r\n      <Container>\r\n        <ProductModal\r\n          open={open}\r\n          button={button}\r\n          product={product}\r\n          fetchProducts={this.fetchProducts}\r\n          toggleProductModal={this.toggleProductModal}\r\n        />\r\n        <Button\r\n          color=\"blue\"\r\n          onClick={() => this.toggleProductModal(true, \"Add\", null)}\r\n        >\r\n          New Product\r\n        </Button>\r\n        {/* Table */}\r\n        <Table sortable celled striped fixed>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell\r\n                sorted={column === \"name\" ? direction : null}\r\n                onClick={() => this.handleSort(\"name\")}\r\n              >\r\n                Name\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell\r\n                sorted={column === \"price\" ? direction : null}\r\n                onClick={() => this.handleSort(\"price\")}\r\n              >\r\n                Price\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell>Action</Table.HeaderCell>\r\n              <Table.HeaderCell>Action</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header>\r\n\r\n          <Table.Body>\r\n            {this.state.products.map((product) => (\r\n              <Table.Row key={product.id}>\r\n                <Table.Cell>{product.name}</Table.Cell>\r\n                <Table.Cell>${product.price}</Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    onClick={() =>\r\n                      this.toggleProductModal(true, \"Edit\", product)\r\n                    }\r\n                    color=\"yellow\"\r\n                    icon\r\n                    labelPosition=\"left\"\r\n                  >\r\n                    <Icon name=\"edit\" />\r\n                    EDIT\r\n                  </Button>\r\n                </Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    onClick={() => this.toggleProductModal(true, \"\", product)}\r\n                    color=\"red\"\r\n                    icon\r\n                    labelPosition=\"left\"\r\n                  >\r\n                    <Icon name=\"trash\" />\r\n                    DELETE\r\n                  </Button>\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n          </Table.Body>\r\n        </Table>\r\n        {/* Pagination */}\r\n        <Pagination\r\n          totalRows={this.state.totalRows.length}\r\n          rowsPerPage={this.state.rowsPerPage}\r\n          paginate={this.paginate}\r\n        />\r\n        {/* drpdown selection */}\r\n        <Dropdown\r\n          compact\r\n          selection\r\n          defaultValue={this.state.selected}\r\n          options={this.state.options}\r\n          onChange={this.handleDropdown}\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Product;\r\n"]},"metadata":{},"sourceType":"module"}