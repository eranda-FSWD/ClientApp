{"ast":null,"code":"import _classCallCheck from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Button,Modal,Form,Icon}from\"semantic-ui-react\";var StoreModal=/*#__PURE__*/function(_Component){_inherits(StoreModal,_Component);var _super=_createSuper(StoreModal);function StoreModal(props){var _this;_classCallCheck(this,StoreModal);_this=_super.call(this,props);_this.deleteStore=function(id){axios.delete(\"/Stores/DeleteStore/\".concat(id)).then(function(res){//console.log(res.data);\n_this.props.fetchStores();_this.props.toggleStoreModal(false);}).catch(function(err){console.log(err);});};_this.addStore=function(){//console.log(this.state.Name, this.state.Address);\naxios.post(\"/Stores/PostStore\",{name:_this.state.Name,address:_this.state.Address}).then(function(res){//console.log(res.data);\n_this.props.fetchStores();_this.props.toggleStoreModal(false);_this.setState({Name:\"\",Address:\"\"});}).catch(function(err){console.log(err);});};_this.editStore=function(id){var sId=id===undefined?_this.props.sale.id:id;axios.put(\"/Stores/PutStore/\".concat(id),{id:sId,name:_this.state.Name===\"\"?_this.props.customer.name:_this.state.Name,address:_this.state.Address===\"\"?_this.props.customer.address:_this.state.Address}).then(function(res){_this.props.fetchStores();_this.props.toggleStoreModal(false);_this.setState({Name:\"\",Address:\"\"});}).catch(function(err){console.log(err);});};_this.state={Name:\"\",Address:\"\"};return _this;}_createClass(StoreModal,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,open=_this$props.open,button=_this$props.button,store=_this$props.store,toggleStoreModal=_this$props.toggleStoreModal;if(button===\"Add\")return/*#__PURE__*/React.createElement(Modal,{centered:true,open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Create Store\"),/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Store Name\",onChange:function onChange(e){return _this2.setState({Name:e.target.value});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Address\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Store Address\",onChange:function onChange(e){return _this2.setState({Address:e.target.value});}})))),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleStoreModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{disabled:this.state.Name===\"\"||this.state.Address===\"\",color:\"green\",labelPosition:\"right\",icon:true,onClick:this.addStore},/*#__PURE__*/React.createElement(Icon,{name:\"checkmark\"}),\"Create\")));else if(button===\"Edit\")return/*#__PURE__*/React.createElement(Modal,{centered:true,open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Edit Store\"),/*#__PURE__*/React.createElement(Modal.Content,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{defaultValue:store.name,onChange:function onChange(e){return _this2.setState({Name:e.target.value});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Address\"),/*#__PURE__*/React.createElement(\"input\",{defaultValue:store.address,onChange:function onChange(e){return _this2.setState({Address:e.target.value});}})))),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleStoreModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{labelPosition:\"right\",color:\"green\",icon:true,onClick:function onClick(){return _this2.editStore(store.id);}},/*#__PURE__*/React.createElement(Icon,{name:\"checkmark\"}),\"Edit\")));else return/*#__PURE__*/React.createElement(Modal,{open:open},/*#__PURE__*/React.createElement(Modal.Header,null,\"Delete Store\"),/*#__PURE__*/React.createElement(Modal.Content,null,\"Are you sure?\"),/*#__PURE__*/React.createElement(Modal.Actions,null,/*#__PURE__*/React.createElement(Button,{color:\"black\",onClick:function onClick(){return toggleStoreModal(false,\"\",\"\");}},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{labelPosition:\"right\",icon:true,onClick:function onClick(){return _this2.deleteStore(store.id);},positive:true},/*#__PURE__*/React.createElement(Icon,{name:\"times\"}),\"Delete\")));}}]);return StoreModal;}(Component);export default StoreModal;","map":{"version":3,"sources":["G:/Talent/Talent/Talent/ClientApp/src/components/Store/StoreModal.jsx"],"names":["React","Component","axios","Button","Modal","Form","Icon","StoreModal","props","deleteStore","id","delete","then","res","fetchStores","toggleStoreModal","catch","err","console","log","addStore","post","name","state","Name","address","Address","setState","editStore","sId","undefined","sale","put","customer","open","button","store","e","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button, Modal, Form, Icon } from \"semantic-ui-react\";\r\n\r\nclass StoreModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      Name: \"\",\r\n      Address: \"\",\r\n    };\r\n  }\r\n\r\n  deleteStore = (id) => {\r\n    axios\r\n      .delete(`/Stores/DeleteStore/${id}`)\r\n      .then((res) => {\r\n        //console.log(res.data);\r\n        this.props.fetchStores();\r\n        this.props.toggleStoreModal(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  addStore = () => {\r\n    //console.log(this.state.Name, this.state.Address);\r\n    axios\r\n      .post(\"/Stores/PostStore\", {\r\n        name: this.state.Name,\r\n        address: this.state.Address,\r\n      })\r\n      .then((res) => {\r\n        //console.log(res.data);\r\n        this.props.fetchStores();\r\n        this.props.toggleStoreModal(false);\r\n        this.setState({ Name: \"\", Address: \"\" });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  editStore = (id) => {\r\n    const sId = id === undefined ? this.props.sale.id : id;\r\n    axios\r\n      .put(`/Stores/PutStore/${id}`, {\r\n        id: sId,\r\n        name:\r\n          this.state.Name === \"\" ? this.props.customer.name : this.state.Name,\r\n        address:\r\n          this.state.Address === \"\"\r\n            ? this.props.customer.address\r\n            : this.state.Address,\r\n      })\r\n      .then((res) => {\r\n        this.props.fetchStores();\r\n        this.props.toggleStoreModal(false);\r\n        this.setState({ Name: \"\", Address: \"\" });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { open, button, store, toggleStoreModal } = this.props;\r\n\r\n    if (button === \"Add\")\r\n      return (\r\n        <Modal centered={true} open={open}>\r\n          <Modal.Header>Create Store</Modal.Header>\r\n          <Modal.Content>\r\n            <Form>\r\n              <Form.Field>\r\n                <label>Name</label>\r\n                <input\r\n                  placeholder=\"Store Name\"\r\n                  onChange={(e) => this.setState({ Name: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>Address</label>\r\n                <input\r\n                  placeholder=\"Store Address\"\r\n                  onChange={(e) => this.setState({ Address: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n            </Form>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleStoreModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              disabled={this.state.Name === \"\" || this.state.Address === \"\"}\r\n              color=\"green\"\r\n              labelPosition=\"right\"\r\n              icon\r\n              onClick={this.addStore}\r\n            >\r\n              <Icon name=\"checkmark\" />\r\n              Create\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n    else if (button === \"Edit\")\r\n      return (\r\n        <Modal centered={true} open={open}>\r\n          <Modal.Header>Edit Store</Modal.Header>\r\n          <Modal.Content>\r\n            <Form>\r\n              <Form.Field>\r\n                <label>Name</label>\r\n                <input\r\n                  defaultValue={store.name}\r\n                  onChange={(e) => this.setState({ Name: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>Address</label>\r\n                <input\r\n                  defaultValue={store.address}\r\n                  onChange={(e) => this.setState({ Address: e.target.value })}\r\n                />\r\n              </Form.Field>\r\n            </Form>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleStoreModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              labelPosition=\"right\"\r\n              color=\"green\"\r\n              icon\r\n              onClick={() => this.editStore(store.id)}\r\n            >\r\n              <Icon name=\"checkmark\" />\r\n              Edit\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n    else\r\n      return (\r\n        <Modal open={open}>\r\n          <Modal.Header>Delete Store</Modal.Header>\r\n          <Modal.Content>Are you sure?</Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => toggleStoreModal(false, \"\", \"\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              labelPosition=\"right\"\r\n              icon\r\n              onClick={() => this.deleteStore(store.id)}\r\n              positive\r\n            >\r\n              <Icon name=\"times\" />\r\n              Delete\r\n            </Button>\r\n          </Modal.Actions>\r\n        </Modal>\r\n      );\r\n  }\r\n}\r\n\r\nexport default StoreModal;\r\n"]},"metadata":{},"sourceType":"module"}