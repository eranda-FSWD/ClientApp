{"ast":null,"code":"import _classCallCheck from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"G:\\\\Talent\\\\Talent\\\\Talent\\\\ClientApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import _ from\"lodash\";import{Button,Container,Table,Dropdown,Icon}from\"semantic-ui-react\";import CustomerModal from\"./CustomerModal\";import Pagination from\"../Common/Pagination\";var Customer=/*#__PURE__*/function(_Component){_inherits(Customer,_Component);var _super=_createSuper(Customer);function Customer(props){var _this;_classCallCheck(this,Customer);_this=_super.call(this,props);_this.fetchCustomers=function(){axios.get(\"/Customers/GetCustomer\").then(function(_ref){var data=_ref.data;_this.setState({customers:data,totalRows:data});_this.fetchRecordsPerPage(_this.state.curruntPage,_this.state.rowsPerPage);}).catch(function(err){console.log(err);});};_this.toggleCustomerModal=function(value,button,customer){_this.setState({open:value,button:button,customer:customer});};_this.handleDropdown=function(event,data){_this.setState({curruntPage:1,rowsPerPage:data.value});_this.fetchCustomers();};_this.fetchRecordsPerPage=function(curruntPage,rowsPerPage){var indexOfLastRow=curruntPage*rowsPerPage;var indexOfFirstRow=indexOfLastRow-rowsPerPage;var customersPerPage=_this.state.customers.slice(indexOfFirstRow,indexOfLastRow);_this.setState({customers:customersPerPage});};_this.paginate=function(pageNumber){_this.setState({curruntPage:pageNumber});_this.fetchCustomers();};_this.handleSort=function(clickedColumn){var _this$state=_this.state,column=_this$state.column,customers=_this$state.customers,direction=_this$state.direction;if(column!==clickedColumn){_this.setState({column:clickedColumn,customers:_.sortBy(customers,[clickedColumn]),direction:\"ascending\"});return;}_this.setState({customers:customers.reverse(),direction:direction===\"ascending\"?\"descending\":\"ascending\"});};_this.state={customers:[],customer:{},open:false,button:\"\",rowsPerPage:10,totalRows:0,curruntPage:1,column:null,direction:null,// value: 0,\noptions:[{key:10,text:\"10\",value:10},{key:20,text:\"20\",value:20},{key:30,text:\"30\",value:30}],selected:10};return _this;}_createClass(Customer,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchCustomers();}},{key:\"render\",value:// End Column Sorting\nfunction render(){var _this2=this;var _this$state2=this.state,open=_this$state2.open,button=_this$state2.button,customer=_this$state2.customer,column=_this$state2.column,direction=_this$state2.direction;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(CustomerModal,{open:open,button:button,customer:customer,fetchCustomers:this.fetchCustomers,toggleCustomerModal:this.toggleCustomerModal}),/*#__PURE__*/React.createElement(Button,{color:\"blue\",onClick:function onClick(){return _this2.toggleCustomerModal(true,\"Add\",null);}},\"New Customer\"),/*#__PURE__*/React.createElement(Table,{sortable:true,celled:true,striped:true,fixed:true},/*#__PURE__*/React.createElement(Table.Header,null,/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.HeaderCell,{sorted:column===\"name\"?direction:null,onClick:function onClick(){return _this2.handleSort(\"name\");}},\"Name\"),/*#__PURE__*/React.createElement(Table.HeaderCell,{sorted:column===\"address\"?direction:null,onClick:function onClick(){return _this2.handleSort(\"address\");}},\"Address\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Action\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Action\"))),/*#__PURE__*/React.createElement(Table.Body,null,this.state.customers.map(function(customer){return/*#__PURE__*/React.createElement(Table.Row,{key:customer.id},/*#__PURE__*/React.createElement(Table.Cell,null,customer.name),/*#__PURE__*/React.createElement(Table.Cell,null,customer.address),/*#__PURE__*/React.createElement(Table.Cell,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.toggleCustomerModal(true,\"Edit\",customer);},color:\"yellow\",icon:true,labelPosition:\"left\"},/*#__PURE__*/React.createElement(Icon,{name:\"edit\"}),\"EDIT\")),/*#__PURE__*/React.createElement(Table.Cell,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this2.toggleCustomerModal(true,\"\",customer);},color:\"red\",icon:true,labelPosition:\"left\"},/*#__PURE__*/React.createElement(Icon,{name:\"trash\"}),\"DELETE\")));}))),/*#__PURE__*/React.createElement(Pagination,{totalRows:this.state.totalRows.length,rowsPerPage:this.state.rowsPerPage,paginate:this.paginate}),/*#__PURE__*/React.createElement(Dropdown,{compact:true,selection:true,defaultValue:this.state.selected,options:this.state.options,onChange:this.handleDropdown}));}}]);return Customer;}(Component);export default Customer;","map":{"version":3,"sources":["G:/Talent/Talent/Talent/ClientApp/src/components/Customer/Customer.jsx"],"names":["React","Component","axios","_","Button","Container","Table","Dropdown","Icon","CustomerModal","Pagination","Customer","props","fetchCustomers","get","then","data","setState","customers","totalRows","fetchRecordsPerPage","state","curruntPage","rowsPerPage","catch","err","console","log","toggleCustomerModal","value","button","customer","open","handleDropdown","event","indexOfLastRow","indexOfFirstRow","customersPerPage","slice","paginate","pageNumber","handleSort","clickedColumn","column","direction","sortBy","reverse","options","key","text","selected","map","id","name","address","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport _ from \"lodash\";\r\nimport { Button, Container, Table, Dropdown, Icon } from \"semantic-ui-react\";\r\nimport CustomerModal from \"./CustomerModal\";\r\nimport Pagination from \"../Common/Pagination\";\r\n\r\nclass Customer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      customers: [],\r\n      customer: {},\r\n      open: false,\r\n      button: \"\",\r\n      rowsPerPage: 10,\r\n      totalRows: 0,\r\n      curruntPage: 1,\r\n      column: null,\r\n      direction: null,\r\n      // value: 0,\r\n\r\n      options: [\r\n        { key: 10, text: \"10\", value: 10 },\r\n        { key: 20, text: \"20\", value: 20 },\r\n        { key: 30, text: \"30\", value: 30 },\r\n      ],\r\n      selected: 10,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchCustomers();\r\n  }\r\n\r\n  fetchCustomers = () => {\r\n    axios\r\n      .get(\"/Customers/GetCustomer\")\r\n      .then(({ data }) => {\r\n        this.setState({\r\n          customers: data,\r\n          totalRows: data,\r\n        });\r\n        this.fetchRecordsPerPage(\r\n          this.state.curruntPage,\r\n          this.state.rowsPerPage\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  toggleCustomerModal = (value, button, customer) => {\r\n    this.setState({\r\n      open: value,\r\n      button: button,\r\n      customer: customer,\r\n    });\r\n  };\r\n\r\n  handleDropdown = (event, data) => {\r\n    this.setState({\r\n      curruntPage: 1,\r\n      rowsPerPage: data.value,\r\n    });\r\n    this.fetchCustomers();\r\n  };\r\n\r\n  // Records per the page\r\n  fetchRecordsPerPage = (curruntPage, rowsPerPage) => {\r\n    const indexOfLastRow = curruntPage * rowsPerPage;\r\n    const indexOfFirstRow = indexOfLastRow - rowsPerPage;\r\n    const customersPerPage = this.state.customers.slice(\r\n      indexOfFirstRow,\r\n      indexOfLastRow\r\n    );\r\n    this.setState({ customers: customersPerPage });\r\n  };\r\n\r\n  paginate = (pageNumber) => {\r\n    this.setState({ curruntPage: pageNumber });\r\n    this.fetchCustomers();\r\n  };\r\n\r\n  // Column Sorting\r\n  handleSort = (clickedColumn) => {\r\n    const { column, customers, direction } = this.state;\r\n\r\n    if (column !== clickedColumn) {\r\n      this.setState({\r\n        column: clickedColumn,\r\n        customers: _.sortBy(customers, [clickedColumn]),\r\n        direction: \"ascending\",\r\n      });\r\n\r\n      return;\r\n    }\r\n    this.setState({\r\n      customers: customers.reverse(),\r\n      direction: direction === \"ascending\" ? \"descending\" : \"ascending\",\r\n    });\r\n  };\r\n  // End Column Sorting\r\n\r\n  render() {\r\n    const { open, button, customer, column, direction } = this.state;\r\n\r\n    return (\r\n      <Container>\r\n        <CustomerModal\r\n          open={open}\r\n          button={button}\r\n          customer={customer}\r\n          fetchCustomers={this.fetchCustomers}\r\n          toggleCustomerModal={this.toggleCustomerModal}\r\n        />\r\n        <Button\r\n          color=\"blue\"\r\n          onClick={() => this.toggleCustomerModal(true, \"Add\", null)}\r\n        >\r\n          New Customer\r\n        </Button>\r\n        {/* Table */}\r\n        <Table sortable celled striped fixed>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell\r\n                sorted={column === \"name\" ? direction : null}\r\n                onClick={() => this.handleSort(\"name\")}\r\n              >\r\n                Name\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell\r\n                sorted={column === \"address\" ? direction : null}\r\n                onClick={() => this.handleSort(\"address\")}\r\n              >\r\n                Address\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell>Action</Table.HeaderCell>\r\n              <Table.HeaderCell>Action</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header>\r\n\r\n          <Table.Body>\r\n            {this.state.customers.map((customer) => (\r\n              <Table.Row key={customer.id}>\r\n                <Table.Cell>{customer.name}</Table.Cell>\r\n                <Table.Cell>{customer.address}</Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    onClick={() =>\r\n                      this.toggleCustomerModal(true, \"Edit\", customer)\r\n                    }\r\n                    color=\"yellow\"\r\n                    icon\r\n                    labelPosition=\"left\"\r\n                  >\r\n                    <Icon name=\"edit\" />\r\n                    EDIT\r\n                  </Button>\r\n                </Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    onClick={() => this.toggleCustomerModal(true, \"\", customer)}\r\n                    color=\"red\"\r\n                    icon\r\n                    labelPosition=\"left\"\r\n                  >\r\n                    <Icon name=\"trash\" />\r\n                    DELETE\r\n                  </Button>\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n          </Table.Body>\r\n        </Table>\r\n        {/* Pagination */}\r\n        <Pagination\r\n          totalRows={this.state.totalRows.length}\r\n          rowsPerPage={this.state.rowsPerPage}\r\n          paginate={this.paginate}\r\n        />\r\n        {/* drpdown selection */}\r\n        <Dropdown\r\n          compact\r\n          selection\r\n          defaultValue={this.state.selected}\r\n          options={this.state.options}\r\n          onChange={this.handleDropdown}\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Customer;\r\n"]},"metadata":{},"sourceType":"module"}